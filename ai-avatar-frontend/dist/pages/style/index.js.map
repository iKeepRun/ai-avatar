{"version":3,"file":"pages/style/index.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC1HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://ai-avatar-frontend/./src/pages/style/index.tsx?99ae","webpack://ai-avatar-frontend/._src_pages_style_index.tsx"],"sourcesContent":["import _objectSpread from \"D:/_code/ai-avatar/ai-avatar-mini-program/ai-avatar-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _regeneratorRuntime from \"D:/_code/ai-avatar/ai-avatar-mini-program/ai-avatar-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/_code/ai-avatar/ai-avatar-mini-program/ai-avatar-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"D:/_code/ai-avatar/ai-avatar-mini-program/ai-avatar-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useState } from 'react';\nimport { View, ScrollView, Image, Text, Button } from '@tarojs/components';\nimport { observer } from 'mobx-react';\nimport { StyleCard } from '@/components';\nimport { useStore } from '@/stores';\nimport { avatarApi } from '@/services/api';\nimport './index.scss';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar styles = [{\n  id: 'ghibli',\n  name: '吉卜力风格',\n  icon: 'paint-brush',\n  preview: 'ghibli.jpg'\n}, {\n  id: 'cartoon',\n  name: '美式卡通',\n  icon: 'smile',\n  preview: 'cartoon.jpg'\n}, {\n  id: 'cyberpunk',\n  name: '赛博朋克',\n  icon: 'robot',\n  preview: 'cyberpunk.jpg'\n}, {\n  id: 'watercolor',\n  name: '水彩艺术',\n  icon: 'palette',\n  preview: 'watercolor.jpg'\n}];\nvar StylePage = function StylePage() {\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var _useStore = useStore(),\n    avatarStore = _useStore.avatarStore,\n    userStore = _useStore.userStore;\n  var taskId = avatarStore.taskId;\n  var handleStyleSelect = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(styleId) {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            setLoading(true);\n            _context.next = 4;\n            return avatarApi.updateStyle(taskId, styleId);\n          case 4:\n            avatarStore.setCurrentStyle(styleId);\n            Taro.navigateTo({\n              url: \"/pages/edit/index?taskId=\".concat(taskId)\n            });\n            _context.next = 11;\n            break;\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            Taro.showToast({\n              title: '选择风格失败',\n              icon: 'none'\n            });\n          case 11:\n            _context.prev = 11;\n            setLoading(false);\n            return _context.finish(11);\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[0, 8, 11, 14]]);\n    }));\n    return function handleStyleSelect(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return /*#__PURE__*/_jsxs(View, {\n    className: \"style-page\",\n    children: [/*#__PURE__*/_jsx(View, {\n      className: \"preview-section\",\n      children: /*#__PURE__*/_jsx(Image, {\n        className: \"original-image\",\n        src: avatarStore.originalImage,\n        mode: \"aspectFill\"\n      })\n    }), /*#__PURE__*/_jsxs(View, {\n      className: \"style-section\",\n      children: [/*#__PURE__*/_jsx(View, {\n        className: \"section-title\",\n        children: \"\\u9009\\u62E9\\u98CE\\u683C\"\n      }), /*#__PURE__*/_jsx(ScrollView, {\n        scrollY: true,\n        className: \"style-list\",\n        children: styles.map(function (style) {\n          return /*#__PURE__*/_jsx(StyleCard, _objectSpread(_objectSpread({}, style), {}, {\n            disabled: !userStore.isVip && style.id !== 'ghibli',\n            loading: loading,\n            onSelect: function onSelect() {\n              return handleStyleSelect(style.id);\n            }\n          }), style.id);\n        })\n      })]\n    }), !userStore.isVip && /*#__PURE__*/_jsxs(View, {\n      className: \"vip-tip\",\n      children: [/*#__PURE__*/_jsx(Text, {\n        children: \"\\u5F00\\u901A\\u4F1A\\u5458\\u89E3\\u9501\\u6240\\u6709\\u98CE\\u683C\"\n      }), /*#__PURE__*/_jsx(Button, {\n        className: \"vip-button\",\n        onClick: function onClick() {\n          return Taro.navigateTo({\n            url: '/pages/member/index'\n          });\n        },\n        children: \"\\u7ACB\\u5373\\u5F00\\u901A\"\n      })]\n    })]\n  });\n};\nexport default observer(StylePage);","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"!!../../../node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pages/style/index!./index.tsx\"\nvar config = {};\n\n\nvar inst = Page(createPageConfig(component, 'pages/style/index', {root:{cn:[]}}, config || {}))\n\n\nexport default component\n"],"names":[],"sourceRoot":""}